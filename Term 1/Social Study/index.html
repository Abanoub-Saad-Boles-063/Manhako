<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูุฏุฑุงุณุงุช ุงูุงุฌุชูุงุนูุฉ - ูููุฌูู</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=Orbitron:wght@400;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../../styles/futuristic.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <style>
        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            background: rgba(5, 5, 16, 0.9);
            backdrop-filter: blur(30px);
            padding: 1rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(0, 240, 255, 0.15);
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            text-decoration: none;
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(0, 240, 255, 0.1);
            border: 1px solid rgba(0, 240, 255, 0.3);
            color: var(--primary);
            padding: 0.6rem 1.2rem;
            border-radius: 10px;
            text-decoration: none;
            font-family: 'Cairo';
            transition: all 0.3s;
        }

        .back-btn:hover {
            background: var(--primary);
            color: var(--bg-dark);
        }

        .menu-btn {
            background: rgba(0, 240, 255, 0.1);
            border: 1px solid rgba(0, 240, 255, 0.3);
            color: var(--primary);
            padding: 0.6rem 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Cairo';
            font-size: 1rem;
            transition: all 0.3s;
        }

        .menu-btn:hover {
            background: var(--primary);
            color: var(--bg-dark);
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            right: -380px;
            width: 380px;
            height: 100vh;
            background: rgba(5, 5, 16, 0.98);
            backdrop-filter: blur(30px);
            z-index: 200;
            transition: right 0.4s ease;
            padding: 2rem 1rem;
            border-left: 1px solid var(--primary);
            overflow-y: auto;
        }

        .sidebar.active {
            right: 0;
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0, 240, 255, 0.3);
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 2rem;
            cursor: pointer;
        }

        .chapter-title {
            color: var(--secondary);
            font-size: 1rem;
            font-weight: 700;
            margin: 1.5rem 0 0.5rem;
            padding: 0.8rem;
            background: rgba(255, 0, 234, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lesson-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1rem;
            margin: 0.3rem 0;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid transparent;
            border-radius: 10px;
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
        }

        .lesson-item:hover,
        .lesson-item.active {
            border-color: var(--primary);
            background: rgba(0, 240, 255, 0.1);
            transform: translateX(-5px);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 150;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Main */
        main {
            position: relative;
            z-index: 1;
            padding: 100px 2rem 2rem;
            max-width: 1100px;
            margin: 0 auto;
        }

        /* Welcome */
        .welcome {
            text-align: center;
            padding: 4rem 2rem;
        }

        .welcome h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .welcome p {
            color: var(--text-muted);
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .feature {
            padding: 1.5rem;
            text-align: center;
        }

        .feature i {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* 3D Map */
        .map-3d-container {
            perspective: 1500px;
            margin: 2rem 0;
        }

        .map-3d {
            background: linear-gradient(135deg, rgba(0, 100, 200, 0.3), rgba(0, 200, 100, 0.2));
            border-radius: 20px;
            padding: 2rem;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            border: 2px solid rgba(0, 240, 255, 0.3);
            position: relative;
        }

        .map-3d:hover {
            transform: rotateX(5deg) rotateY(-5deg);
        }

        .map-3d h3 {
            text-align: center;
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.4rem;
        }

        .egypt-map {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            max-width: 500px;
            margin: 0 auto;
        }

        .map-region {
            padding: 1rem;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            transform-style: preserve-3d;
        }

        .map-region:hover {
            transform: translateZ(20px) scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .region-north {
            background: rgba(0, 200, 255, 0.4);
        }

        .region-west {
            background: rgba(255, 200, 0, 0.4);
        }

        .region-center {
            background: linear-gradient(135deg, #ffd700, #00ff88);
            font-weight: 700;
        }

        .region-east {
            background: rgba(255, 100, 100, 0.4);
        }

        .region-south {
            background: rgba(100, 255, 100, 0.4);
        }

        .map-info-panel {
            background: rgba(0, 240, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            display: none;
        }

        .map-info-panel.active {
            display: block;
        }

        /* Flashcards */
        .flashcard-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            margin: 2rem 0;
        }

        .flashcard {
            width: 100%;
            max-width: 500px;
            height: 280px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front,
        .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .flashcard-front {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.2), rgba(255, 0, 234, 0.1));
            border: 2px solid var(--primary);
        }

        .flashcard-back {
            background: linear-gradient(135deg, rgba(255, 0, 234, 0.2), rgba(0, 240, 255, 0.1));
            border: 2px solid var(--secondary);
            transform: rotateY(180deg);
        }

        .flashcard-front h3 {
            font-size: 1.3rem;
            color: var(--primary);
            text-align: center;
        }

        .flashcard-back p {
            font-size: 1.1rem;
            text-align: center;
            line-height: 1.8;
        }

        .flashcard-controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .flashcard-btn {
            background: rgba(0, 240, 255, 0.1);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Cairo';
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .flashcard-btn:hover {
            background: var(--primary);
            color: var(--bg-dark);
        }

        .flashcard-btn.correct {
            border-color: var(--accent);
            color: var(--accent);
        }

        .flashcard-btn.wrong {
            border-color: var(--secondary);
            color: var(--secondary);
        }

        .progress-bar {
            width: 100%;
            max-width: 500px;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.3s;
        }

        /* Card Styles */
        .card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 240, 255, 0.2);
            border-radius: 16px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .card-title {
            color: var(--primary);
            font-size: 1.2rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lesson-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .lesson-header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .lesson-header h2 {
            color: var(--text-muted);
            font-weight: normal;
            font-size: 1rem;
        }

        /* PDF Links */
        .pdf-link {
            display: block;
            padding: 1rem;
            background: rgba(0, 240, 255, 0.1);
            border: 1px solid rgba(0, 240, 255, 0.3);
            border-radius: 10px;
            color: var(--text);
            text-decoration: none;
            transition: all 0.3s;
            margin-bottom: 0.8rem;
        }

        .pdf-link:hover {
            transform: translateX(-5px);
            background: rgba(0, 240, 255, 0.2);
            border-color: var(--primary);
        }

        .pdf-link i {
            margin-left: 0.5rem;
            color: var(--primary);
        }

        /* Mobile */
        @media (max-width: 768px) {
            header {
                padding: 0.8rem 1rem;
            }

            .logo {
                font-size: 1.1rem;
            }

            main {
                padding: 80px 1rem 1rem;
            }

            .sidebar {
                width: 100%;
                right: -100%;
            }

            .welcome h1 {
                font-size: 2rem;
            }

            .flashcard {
                height: 250px;
            }
        }
    </style>
</head>

<body>
    <div class="aurora-bg"></div>
    <div class="particles-3d"></div>

    <header>
        <div style="display: flex; align-items: center; gap: 1rem;">
            <a href="../../index.html" class="back-btn">
                <i class="fas fa-arrow-right"></i> ุงูุฑุฆูุณูุฉ
            </a>
            <span class="logo holo-text">
                <i class="fas fa-globe-africa"></i> ุงูุฏุฑุงุณุงุช
            </span>
        </div>
        <button class="menu-btn" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i> ุงูุฏุฑูุณ
        </button>
    </header>

    <div class="overlay" onclick="toggleSidebar()"></div>

    <nav class="sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-book"></i> ููุฑุณ ุงูุฏุฑูุณ</h3>
            <button class="close-btn" onclick="toggleSidebar()">ร</button>
        </div>
        <div class="chapter-title"><i class="fas fa-map-marked-alt"></i> ุงูุฎุฑุงุฆุท ุงูุฐููุฉ</div>
        <div class="lesson-item" onclick="showLesson(1)"><i class="fas fa-globe"></i> ุฎุฑุงุฆุท ูุตุฑ ุงูุชูุงุนููุฉ 3D</div>

        <div class="chapter-title"><i class="fas fa-clipboard-check"></i> ุงูุงุฎุชุจุงุฑุงุช</div>
        <div class="lesson-item" onclick="showLesson(4)"><i class="fas fa-tasks"></i> ุงุฎุชุจุฑ ููุณู</div>

        <div class="chapter-title"><i class="fas fa-clone"></i> ุจุทุงูุงุช ุงูุญูุธ</div>
        <div class="lesson-item" onclick="showLesson(2)"><i class="fas fa-brain"></i> ุจุทุงูุงุช ุงููููุฌ ุงููุงูู</div>
        <div class="chapter-title"><i class="fas fa-file-pdf"></i> ูุตุงุฏุฑ PDF</div>
        <div class="lesson-item" onclick="showLesson(3)"><i class="fas fa-folder-open"></i> ุงููุชุจ ูุงูููุฎุตุงุช</div>
    </nav>

    <main id="main-content"></main>

    <script src="../../scripts/ai-system.js"></script>
    <script>
        // Flashcard data from curriculum
        const allFlashcards = [
            // ุงูุซุฑูุฉ ุงููุนุฏููุฉ
            { q: "ูุง ุงูููุตูุฏ ุจุงูุซุฑูุฉ ุงููุนุฏููุฉุ", a: "ูู ุงูุฎุงูุงุช ุงููุนุฏููุฉ ุงูุชู ุชูุฌุฏ ูู ุจุงุทู ุงูุฃุฑุถ ูุชูุณุชุบู ุงูุชุตุงุฏููุง ูุซู ุงูุญุฏูุฏุ ุงูููุณูุงุชุ ุงูููุฌููุฒุ ุงูุฌุจุณุ ูููุญ ุงูุทุนุงู.", cat: "ุซุฑูุฉ ูุนุฏููุฉ" },

            // ูุตุงุฏุฑ ุงูุทุงูุฉ
            { q: "ุชููุณู ูุตุงุฏุฑ ุงูุทุงูุฉ ุฅูู ูู ููุนุ", a: "ููุนูู:\nุทุงูุฉ ูุชุฌุฏุฏุฉ\nุทุงูุฉ ุบูุฑ ูุชุฌุฏุฏุฉ", cat: "ุทุงูุฉ" },
            { q: "ูุง ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉุ", a: "ุทุงูุฉ ูุง ุชููุฏ ููุง ุชููุซ ุงูุจูุฆุฉ ูุซู: ุงูุดูุณุ ุงูุฑูุงุญุ ุงูููุงูุ ุงููุฏ ูุงูุฌุฒุฑ.", cat: "ุทุงูุฉ" },
            { q: "ูุง ุงูุทุงูุฉ ุบูุฑ ุงููุชุฌุฏุฏุฉุ", a: "ุทุงูุฉ ุชููุฏ ูุน ุงูุงุณุชุฎุฏุงู ูุซู: ุงููุญูุ ุงูุจุชุฑููุ ุงูุบุงุฒ ุงูุทุจูุนู.", cat: "ุทุงูุฉ" },

            // ุฎุงู ุงูุญุฏูุฏ
            { q: "ููุงุทู ูุฌูุฏ ุฎุงู ุงูุญุฏูุฏ ุงูุฑุฆูุณูุฉ ูู ูุตุฑุ", a: "ุฃุณูุงู\nุงููุงุญุฉ ุงูุจุญุฑูุฉ\nุดุฑู ุงูุตุญุฑุงุก (ุฌููุจ ุงููุตูุฑ)", cat: "ุญุฏูุฏ" },
            { q: "ููุงุฐุง ุฃููุดุฆ ูุตูุน ุงูุญุฏูุฏ ูุงูุตูุจ ูู ุญููุงู ุนุงู 1954ูุ", a: "ููุฑุจู ูู ููุงุทู ุงูุงุณุชููุงู ูุชูุงูุฑ ูุณุงุฆู ุงูููู.", cat: "ุญุฏูุฏ" },
            { q: "ููุงุฐุง ุชููู ุฅูุชุงุฌ ุญุฏูุฏ ุฃุณูุงู ุนุงู 1979ูุ", a: "ุงูุฎูุงุถ ูุณุจุฉ ุงูุญุฏูุฏ\nุงุฑุชูุงุน ูุณุจุฉ ุงูุดูุงุฆุจ\nุฒูุงุฏุฉ ุงุณุชููุงู ุงูุทุงูุฉ\nูุถูุจ ุฌุฒุก ูุจูุฑ ูู ุงูุงุญุชูุงุทู", cat: "ุญุฏูุฏ" },
            { q: "ููุงุฐุง ุงุชุฌูุช ุงูุฏููุฉ ูุงุณุชุบูุงู ุญุฏูุฏ ุงููุงุญุฉ ุงูุจุญุฑูุฉุ", a: "ูุถุฎุงูุฉ ุงูุงุญุชูุงุทู ูุณูููุฉ ุงูููู ุจุนุฏ ุฑุจุทูุง ุจุงูุณูู ุงูุญุฏูุฏูุฉ ูุงูุทุฑู.", cat: "ุญุฏูุฏ" },

            // ุงูููุณูุงุช
            { q: "ูุชู ุจุฏุฃ ุชุนุฏูู ุงูููุณูุงุช ูู ูุตุฑุ", a: "ุนุงู 1908ู", cat: "ููุณูุงุช" },
            { q: "ุฃูู ููุงุทู ุงูููุณูุงุช ูู ูุตุฑุ", a: "ุณูุงุฌุง\nุงูุญูุฑุงููู\nุงููุตูุฑ\nุญููู ุงูููู\nุฃุจู ุทุฑุทูุฑ", cat: "ููุณูุงุช" },
            { q: "ููุงุฐุง ุชูุนุฏ ููุทูุฉ ุฃุจู ุทุฑุทูุฑ ูููุฉุ", a: "ูู ุฃูุจุฑ ุงููุดูู ุงูุชุนุฏูููุฉ\nุงุญุชูุงุทู ูุฒูุฏ ุนู 700 ููููู ุทู\nูุงุฏุฑ ุนูู ุงูููุงูุณุฉ ุนุงููููุง", cat: "ููุณูุงุช" },
            { q: "ููุงุฐุง ุชูุนุฏ ุญููู ุงูููู ุณููุฉ ุงูุชุนุฏูู ูุงููููุ", a: "ุงูุชุถุงุฑูุณ ููุจุณุทุฉ\nูุฑุจ ุงูุฎุงู ูู ุงูุณุทุญ\nูุฑุจูุง ูู ุงูููู ูุงูุณูู ุงูุญุฏูุฏูุฉ", cat: "ููุณูุงุช" },

            // ุงูุฌุจุณ ูููุญ ุงูุทุนุงู
            { q: "ููุชูู ุงูุฌุจุณ ูุฃู ููุน ูู ุงูุฑูุงุณุจุ", a: "ุงูุฑูุงุณุจ ุงูุชุจุฎูุฑูุฉ", cat: "ุฌุจุณ" },
            { q: "ูู ูุชููู ุงูุฌุจุณุ", a: "ูุจุฑูุชุงุช ุงููุงูุณููู", cat: "ุฌุจุณ" },
            { q: "ุฃูู ุชูุฌุฏ ุฃูู ุฑูุงุณุจ ุงูุฌุจุณ ูู ูุตุฑุ", a: "ุฎููุฌ ุงูุณููุณ\nุงูุจุญุฑ ุงูุฃุญูุฑ\nุบุฑุจ ููุงุฉ ุงูุณููุณ\nุดูุงู ุงูุฅุณูุงุนูููุฉ\nุบุฑุจ ุงูุฅุณููุฏุฑูุฉ\nุจุญูุฑุฉ ุงูููุฒูุฉ", cat: "ุฌุจุณ" },
            { q: "ููุงุฐุง ุงูุชูุช ุงูุฏููุฉ ุจููุญ ุงูุทุนุงู ูุฏูููุงุ", a: "ูุฃูู ูุงู ูุญุชูุฑูุง ููุญูููุฉ ููุตุฏุฑูุง ููููุง ููุถุฑุงุฆุจ.", cat: "ููุญ" },

            // ุงูููู
            { q: "ููุงุฐุง ุงูููู ููู ููุชูุฏู ุงูุงูุชุตุงุฏูุ", a: "ูุฃูู ูุฑุจุท ููุงุทู ุงูุฅูุชุงุฌ ุจุงูุงุณุชููุงู ููุณููู ุงูุชุจุงุฏู ุงูุชุฌุงุฑู.", cat: "ููู" },
            { q: "ุฃููุงุน ุงูููู ูู ูุตุฑุ", a: "ููู ููุฑู\nููู ุจุฑู\nููู ุจุญุฑู\nููู ุฌูู", cat: "ููู" },

            // ููุงุฑูุงุช
            { q: "ูุงุฑู ุจูู ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉ ูุบูุฑ ุงููุชุฌุฏุฏุฉ (ููุฒุฉ ูุงุญุฏุฉ).", a: "ุงููุชุฌุฏุฏุฉ: ูุง ุชููุฏ ููุง ุชููุซ\nุบูุฑ ุงููุชุฌุฏุฏุฉ: ุฃูุซุฑ ุงุณุชูุฑุงุฑูุง ูุณููุฉ ุงูููู", cat: "ููุงุฑูุฉ" },
            { q: "ูู ุณูุจูุงุช ุงููููุฏ ุงูุฃุญููุฑูุ", a: "ูููุซ ุงูุจูุฆุฉ\nูุญุฏูุฏ ุงููููุฉ\nูููู ูู ุงูุงุณุชุฎุฑุงุฌ ูุงูููู", cat: "ููุงุฑูุฉ" },

            // --- ุฅุถุงูุงุช ุฌุฏูุฏุฉ ---
            // ุงูุฏุฑุณ ุงูุฃูู: ุงูุชูุฒูุน ุงูุฌุบุฑุงูู ูููุนุงุฏู
            { q: "ุฅูู ูู ููุทูุฉ ูููุณู ุชูุฒูุน ุงููุนุงุฏู ูู ูุตุฑุ", a: "ุซูุงุซ ููุงุทู ุทูููุฉ ูู ุงูุดูุงู ุฅูู ุงูุฌููุจ.", cat: "ุชูุฒูุน ุงููุนุงุฏู" },
            { q: "ูุง ุฎุตุงุฆุต ุงูููุทูุฉ ุงูุฃููู (ุงูุฌุจููุฉ ุงูุณุงุญููุฉ)ุ", a: "ุชุนุฏูููุง ุจุงุทูู ูุตุนุจ\nูุณูู ุงูููู ููุฑุจูุง ูู ุงูููุงูุฆ\nุชุดูู: ุณููุงุก โ ุฎููุฌ ุงูุณููุณ โ ุงูุตุญุฑุงุก ุงูุดุฑููุฉ", cat: "ุชูุฒูุน ุงููุนุงุฏู" },
            { q: "ูุง ุฎุตุงุฆุต ุงูููุทูุฉ ุงูุซุงููุฉ (ุงูุณูููุฉ ุงูููุฑูุฉ)ุ", a: "ุชุนุฏูููุง ุณุทุญู ูุณูู\nูุฑูุจุฉ ูู ุงูููู ูุงูุณูู ุงูุญุฏูุฏูุฉ\nุชูุชุฏ ุญูู ููุฑ ุงูููู ุญุชู ุงูุจุญุฑ ุงููุชูุณุท", cat: "ุชูุฒูุน ุงููุนุงุฏู" },
            { q: "ูุง ุฎุตุงุฆุต ุงูููุทูุฉ ุงูุซุงูุซุฉ (ุงูุตุญุฑุงููุฉ)ุ", a: "ุจุนูุฏุฉ ูููุนุฒูุฉ\nุตุนุจุฉ ุงูุชุนุฏูู ูุงูููู\nุชุดูู ุงูุตุญุฑุงุก ุงูุบุฑุจูุฉ", cat: "ุชูุฒูุน ุงููุนุงุฏู" },

            // ุงูุฏุฑุณ ุงูุซุงูู: ุงูุญุฏูุฏ ุงูุฎุงู
            { q: "ูุง ููุงุทู ูุฌูุฏ ุฎุงู ุงูุญุฏูุฏ ุงูุฑุฆูุณูุฉ ูู ูุตุฑุ", a: "ุดูุงู ุดุฑู ุฃุณูุงู\nุงููุงุญุงุช ุงูุจุญุฑูุฉ\nุณุงุญู ุงูุจุญุฑ ุงูุฃุญูุฑ", cat: "ุญุฏูุฏ" },
            { q: "ููุน ุฎุงู ุงูุญุฏูุฏ ูู ุฃุณูุงูุ", a: "ูููุงุชูุช ุญุจูุจู โ ูุณุจุฉ ุงููุนุฏู 52%.", cat: "ุญุฏูุฏ" },
            { q: "ููุงุฐุง ุชููู ุงุณุชุบูุงู ุญุฏูุฏ ุฃุณูุงูุ", a: "ุงุฑุชูุงุน ุงูุดูุงุฆุจ\nุงูุฎูุงุถ ูุณุจุฉ ุงููุนุฏู\nุนุฏู ููุงุกุชู ูุน ุชูุณุน ูุตูุน ุงูุญุฏูุฏ ูุงูุตูุจ", cat: "ุญุฏูุฏ" },
            { q: "ูุง ุงูุฎุฏูุงุช ุงูุชู ูุฏูุชูุง ุงูุฏููุฉ ูููุงุญุงุช ุงูุจุญุฑูุฉุ", a: "ุฎุท ุณูุฉ ุญุฏูุฏ\nุทุฑูู ุณูุงุฑุงุช\nููุฑุจุงุก\nุฅูุดุงุก ูุฏููุฉ ุงูุฌุฏูุฏุฉ", cat: "ุญุฏูุฏ" },

            // ุงูุฏุฑุณ ุงูุซุงูุซ: ุงูููุณูุงุช ูุงูููุฌููุฒ
            { q: "ูุชู ุจุฏุฃ ุฅูุชุงุฌ ุงูููุณูุงุช ูู ูุตุฑุ", a: "ุจุฏุงูุฉ ุงููุฑู ุงูุนุดุฑูู (1908ู).", cat: "ููุณูุงุช" },
            { q: "ูุง ููุงุทู ุงูููุณูุงุช ุงูุฑุฆูุณูุฉ ูู ูุตุฑุ", a: "ุงูุจุญุฑ ุงูุฃุญูุฑ\nูุงุฏู ุงูููู\nุฃุจู ุทุฑุทูุฑ", cat: "ููุณูุงุช" },
            { q: "ููุงุฐุง ุชูุนุฏ ููุทูุฉ ุฃุจู ุทุฑุทูุฑ ูููุฉุ", a: "ุงุญุชูุงุทู ุถุฎู\nุฅูุชุงุฌ ูุจูุฑ\nูุงุฏุฑุฉ ุนูู ุงูููุงูุณุฉ ุนุงููููุง", cat: "ููุณูุงุช" },
            { q: "ุฃูู ุชูุฌุฏ ููุงุฌู ุงูููุฌููุฒุ", a: "ุฃู ุจุฌูุฉ ูู ุณููุงุก.", cat: "ููุฌููุฒ" },

            // ุงูุฏุฑุณ ุงูุฑุงุจุน: ุงูุฌุจุณ ูููุญ ุงูุทุนุงู
            { q: "ููุชูู ุงูุฌุจุณ ูุฃู ููุน ูู ุงูุฑูุงุณุจุ", a: "ุงูุฑูุงุณุจ ุงูุชุจุฎูุฑูุฉ.", cat: "ุฌุจุณ" },
            { q: "ุฃูู ุชูุฌุฏ ุฃูู ููุงุทู ุงูุฌุจุณ ูู ูุตุฑุ", a: "ุบุฑุจ ุณููุงุก\nุบุฑุจ ููุงุฉ ุงูุณููุณ\nุบุฑุจ ุงูุฅุณููุฏุฑูุฉ", cat: "ุฌุจุณ" },
            { q: "ุฃูููุฉ ุงูุฌุจุณ ุงูุงูุชุตุงุฏูุฉุ", a: "ุงูุจูุงุก ูุงูุชุดููุฏ\nุงูุฒุฑุงุนุฉ\nุตูุงุนุฉ ุงูุฃุณููุช\nุงูุฃุบุฑุงุถ ุงูุทุจูุฉ", cat: "ุฌุจุณ" },
            { q: "ููู ูููุชุฌ ููุญ ุงูุทุนุงูุ", a: "ุจุงูุชุจุฎูุฑ ุงูุทุจูุนู ุซู ุงูุชุจููุฑ.", cat: "ููุญ" },

            // ุงูุฏุฑุณ ุงูุฎุงูุณ: ูุตุงุฏุฑ ุงูุทุงูุฉ
            { q: "ุฃูุณุงู ูุตุงุฏุฑ ุงูุทุงูุฉ ูู ูุตุฑุ", a: "ุทุงูุฉ ูุชุฌุฏุฏุฉ\nุทุงูุฉ ุบูุฑ ูุชุฌุฏุฏุฉ", cat: "ุทุงูุฉ" },
            { q: "ุฃูุซูุฉ ููุทุงูุฉ ุงููุชุฌุฏุฏุฉุ", a: "ุงูุดูุณ โ ุงูุฑูุงุญ โ ุงูููุงู โ ุงููุฏ ูุงูุฌุฒุฑ โ ุงูุทุงูุฉ ุงูุญูููุฉ.", cat: "ุทุงูุฉ" },
            { q: "ุฃูุซูุฉ ููุทุงูุฉ ุบูุฑ ุงููุชุฌุฏุฏุฉุ", a: "ุงููุญู โ ุงูุจุชุฑูู โ ุงูุบุงุฒ ุงูุทุจูุนู.", cat: "ุทุงูุฉ" },

            // ุงูุฏุฑุณ ุงูุณุงุฏุณ: ุงูุจุชุฑูู
            { q: "ุฃูู ุชุชุฑูุฒ ุญููู ุงูุจุชุฑูู ูู ูุตุฑุ", a: "ุฎููุฌ ุงูุณููุณ\nุงูุตุญุฑุงุก ุงูุบุฑุจูุฉ\nุฏูุชุง ุงูููู (ุบุงุฒ ุทุจูุนู)", cat: "ุจุชุฑูู" },
            { q: "ููุงุฐุง ููุนุฏ ุงูุจุชุฑูู ููููุง ุงูุชุตุงุฏููุงุ", a: "ูู ุฃูู ุงูุตุงุฏุฑุงุช ูููุนุฑู ุจุงูุฐูุจ ุงูุฃุณูุฏ.", cat: "ุจุชุฑูู" },

            // ุงูุฏุฑุณ ุงูุณุงุจุน: ุงูุบุงุฒ ุงูุทุจูุนู
            { q: "ุงููุฑู ุจูู ุงูุบุงุฒ ุงููุตุงุญุจ ูุบูุฑ ุงููุตุงุญุจุ", a: "ูุตุงุญุจ: ูุน ุงูุจุชุฑูู\nุบูุฑ ูุตุงุญุจ: ุบุงุฒ ููุท", cat: "ุบุงุฒ ุทุจูุนู" },
            { q: "ุงุณุชุฎุฏุงูุงุช ุงูุบุงุฒ ุงูุทุจูุนูุ", a: "ุชูููุฏ ุงูููุฑุจุงุก\nุงูููุงุฒู\nุงูุตูุงุนุงุช\nูููุฏ ููููุงุตูุงุช", cat: "ุบุงุฒ ุทุจูุนู" },

            // ุงูุฏุฑุณ ุงูุซุงูู: ุงููุญู ูุงูููุฑุจุงุก
            { q: "ููุงุฐุง ุชูุนุฏ ุงูููุฑุจุงุก ุทุงูุฉ ุงูุทุงูุงุชุ", a: "ูุฃู ูู ูุตุงุฏุฑ ุงูุทุงูุฉ ุชุชุญูู ุฅูููุง.", cat: "ููุฑุจุงุก" },
            { q: "ุฃููุงุน ุงูููุฑุจุงุก ูู ูุตุฑุ", a: "ุญุฑุงุฑูุฉ\nูุงุฆูุฉ\nููููุฉ (ููุฏ ุงูุชูููุฐ)", cat: "ููุฑุจุงุก" },

            // ุงูุฏุฑุณ ุงูุชุงุณุน: ุงูููู ุงูุจุฑู ูุงููุงุฆู
            { q: "ุฃููุงุน ุงูููู ูู ูุตุฑุ", a: "ุจุฑู\nูุงุฆู\nุฌูู", cat: "ููู" },
            { q: "ุฃูููุฉ ุงูุณูู ุงูุญุฏูุฏูุฉุ", a: "ููู ุงูุจุถุงุฆุน ุงูุซูููุฉ\nุฑุฎูุตุฉ ุงูุชูููุฉ", cat: "ููู" },

            // ุงูุฏุฑุณ ุงูุนุงุดุฑ: ุงูููู ุงูุฌูู
            { q: "ููุงูุฉ ูุตุฑ ูู ุงูููู ุงูุฌููุ", a: "ุฑุงุฆุฏุฉ ูู ุงูุดุฑู ุงูุฃูุณุท.", cat: "ููู ุฌูู" },
            { q: "ูู ุฃูู ุงููุทุงุฑุงุช ุงููุตุฑูุฉุ", a: "ุงููุงูุฑุฉ โ ุงูุฅุณููุฏุฑูุฉ โ ุงูุบุฑุฏูุฉ โ ุดุฑู ุงูุดูุฎ โ ุงูุฃูุตุฑ โ ุฃุณูุงู.", cat: "ููู ุฌูู" },

            // --- ุฅุถุงูุงุช ุงููุฌููุนุฉ ุงูุซุงูุซุฉ ---
            // ุงูุฏุฑุณ ุงูุฃูู: ุงูุชูุฒูุน ุงูุฌุบุฑุงูู
            { q: "ูุง ูู ุงูููุงุทู ุงูุฑุฆูุณูุฉ ูุชูุฒูุน ุงููุนุงุฏู ูู ูุตุฑุ", a: "ุงูููุทูุฉ ุงูุฃููู: ุณููุงุก ูุญูุถ ุฎููุฌ ุงูุณููุณ\nุงูููุทูุฉ ุงูุซุงููุฉ: ูุณุท ุงูุจูุงุฏ ุญูู ุงูููู\nุงูููุทูุฉ ุงูุซุงูุซุฉ: ุงูุตุญุฑุงุก ุงูุบุฑุจูุฉ", cat: "ุชูุฒูุน ุงููุนุงุฏู" },
            { q: "ูุง ูู ุฃูู ูุนุฏู ูู ููุทูุฉ ุณููุงุก ูุญูุถ ุฎููุฌ ุงูุณููุณุ", a: "ุฎุงู ุงูุญุฏูุฏ.", cat: "ุชูุฒูุน ุงููุนุงุฏู" },

            // ุงูุฏุฑุณ ุงูุซุงูู: ุฎุงู ุงูุญุฏูุฏ
            { q: "ุฃูู ุชูุฌุฏ ุฃูู ููุงุทู ุฎุงู ุงูุญุฏูุฏ ูู ูุตุฑุ", a: "ุญุฏูุฏ ุฃุณูุงู\nุงููุงุญุฉ ุงูุจุญุฑูุฉ\nุณุงุญู ุงูุจุญุฑ ุงูุฃุญูุฑ", cat: "ุญุฏูุฏ" },
            { q: "ูุงุฐุง ุญุฏุซ ููุตูุน ุญุฏูุฏ ุฃุณูุงูุ", a: "ุชููู ุงูุฅูุชุงุฌ ุจุณุจุจ ุงูุฎูุงุถ ุฌูุฏุฉ ุงูุฎุงู ูุฒูุงุฏุฉ ุชูุงููู ุงูุทุงูุฉ.", cat: "ุญุฏูุฏ" },

            // ุงูุฏุฑุณ ุงูุซุงูุซ: ุงูููุณูุงุช ูุงูููุฌููุฒ
            { q: "ูุชู ุจุฏุฃ ุงุณุชุฎุฑุงุฌ ุงูููุณูุงุช ูู ูุตุฑุ", a: "ุจุฏุฃ ูู 1908ุ ูุชู ุงุณุชุฎุฑุงุฌ ุงูููุณูุงุช ูู ุนุฏุฉ ููุงุทู ูุซู ุณูุงุฌุง ูุงูุญูุฑุงููู.", cat: "ููุณูุงุช" },
            { q: "ุฃูู ูุชู ุงุณุชุฎุฑุงุฌ ุงูููุฌููุฒ ูู ูุตุฑุ", a: "ูู ุณููุงุก ูุงูุจุญุฑ ุงูุฃุญูุฑ.", cat: "ููุฌููุฒ" },

            // ุงูุฏุฑุณ ุงูุฑุงุจุน: ุงูุฌุจุณ ูููุญ ุงูุทุนุงู
            { q: "ุฃูู ุชูุฌุฏ ุฃูู ููุงุทู ุงุณุชุฎุฑุงุฌ ุงูุฌุจุณ ูู ูุตุฑุ", a: "ุฎููุฌ ุงูุณููุณ\nุบุฑุจ ููุงุฉ ุงูุณููุณ\nุงูุฅุณููุฏุฑูุฉ", cat: "ุฌุจุณ" },
            { q: "ููู ูุชู ุงุณุชุฎุฑุงุฌ ููุญ ุงูุทุนุงู ูู ูุตุฑุ", a: "ูุชู ุงุณุชุฎุฑุงุฌ ููุญ ุงูุทุนุงู ุจุงุณุชุฎุฏุงู ุนูููุฉ ุงูุชุจุฎูุฑ ุงูุทุจูุนู.", cat: "ููุญ" },

            // ุงูุฏุฑุณ ุงูุฎุงูุณ: ูุตุงุฏุฑ ุงูุทุงูุฉ
            { q: "ูุง ูู ุฃูู ูุตุงุฏุฑ ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉ ูู ูุตุฑุ", a: "ุงูุทุงูุฉ ุงูุดูุณูุฉ\nุงูุฑูุงุญ\nุงูุทุงูุฉ ุงููุงุฆูุฉ", cat: "ุทุงูุฉ" },
            { q: "ูุง ูู ุงูุทุงูุฉ ุบูุฑ ุงููุชุฌุฏุฏุฉุ", a: "ุงููุญู\nุงูููุท\nุงูุบุงุฒ ุงูุทุจูุนู", cat: "ุทุงูุฉ" },

            // ุงูุฏุฑุณ ุงูุณุงุฏุณ: ุงูุจุชุฑูู
            { q: "ูุง ูู ููุงุทู ุงูุจุชุฑูู ุงูุฑุฆูุณูุฉ ูู ูุตุฑุ", a: "ุฎููุฌ ุงูุณููุณ\nุงูุตุญุฑุงุก ุงูุบุฑุจูุฉ\nุงูุจุญุฑ ุงููุชูุณุท", cat: "ุจุชุฑูู" },
            { q: "ููู ูุชู ุชูุฑูุฑ ุงูุจุชุฑูู ูู ูุตุฑุ", a: "ูุชู ุงูุชูุฑูุฑ ูู ุชุณุนุฉ ูุนุงูู ุชูุฑูุฑุ ูุฃูุซุฑูุง ุดูุฑุฉ ูู ุงูุจุญุฑ ุงูุฃุญูุฑ.", cat: "ุจุชุฑูู" },

            // ุงูุฏุฑุณ ุงูุณุงุจุน: ุงูุบุงุฒ ุงูุทุจูุนู
            { q: "ูุง ูู ุฃูู ุญููู ุงูุบุงุฒ ุงูุทุจูุนู ูู ูุตุฑุ", a: "ุญูู ุฃุจู ูุงุถู\nุญูู ุฃุจู ููุฑ\nุญูู ุธูุฑ", cat: "ุบุงุฒ ุทุจูุนู" },
            { q: "ูุง ูู ุฃูููุฉ ุงูุบุงุฒ ุงูุทุจูุนูุ", a: "ูุณุชุฎุฏู ูู ุชูููุฏ ุงูููุฑุจุงุกุ ุงููููุฏ ููููุงุฒูุ ูุงูุตูุงุนุงุช ุงููุฎุชููุฉ.", cat: "ุบุงุฒ ุทุจูุนู" },

            // ุงูุฏุฑุณ ุงูุซุงูู: ุงููุญู ูุงูููุฑุจุงุก
            { q: "ูุง ูู ูุตุงุฏุฑ ุชูููุฏ ุงูููุฑุจุงุก ูู ูุตุฑุ", a: "ุงููุญู\nุงูุบุงุฒ ุงูุทุจูุนู\nุงูุทุงูุฉ ุงูููุฑููุงุฆูุฉ\nุงูุทุงูุฉ ุงูููููุฉ", cat: "ููุฑุจุงุก" },

            // ุงูุฏุฑุณ ุงูุชุงุณุน: ุงูููู
            { q: "ูุง ูู ุฃููุงุน ุงูููู ูู ูุตุฑุ", a: "ุงูููู ุงูุจุฑู\nุงูููู ุงููุงุฆู\nุงูููู ุงูุฌูู\nุงูููู ุงูุณููู", cat: "ููู" },
            { q: "ููุงุฐุง ูุนุชุจุฑ ุงูููู ุงูุณููู ููููุง ูู ูุตุฑุ", a: "ูุฃูู ููุณุชุฎุฏู ูููู ุงูุจุถุงุฆุน ุงูุซูููุฉุ ููุชููุฒ ุจุชูููุชู ุงูููุฎูุถุฉ.", cat: "ููู" },

            // ุงูุฏุฑุณ ุงูุนุงุดุฑ: ุงูุชุฌุงุฑุฉ ุงูุฎุงุฑุฌูุฉ
            { q: "ูุง ูู ุงูุตุงุฏุฑุงุช ุงูุฑุฆูุณูุฉ ูู ูุตุฑุ", a: "ุงูููุท\nุงูุบุงุฒ ุงูุทุจูุนู\nููุชุฌุงุช ุฒุฑุงุนูุฉ", cat: "ุชุฌุงุฑุฉ" },
            { q: "ูุง ูู ูุงุฑุฏุงุช ูุตุฑุ", a: "ุงูุขูุงุช\nุงููุนุฏุงุช ุงูุตูุงุนูุฉ\nุงูุณูุงุฑุงุช", cat: "ุชุฌุงุฑุฉ" },

            // --- ุฅุถุงูุงุช ุงููุฌููุนุฉ ุงูุฑุงุจุนุฉ ---
            // ุงูุฏุฑุณ ุงูุฃูู: ุงูุชูุฒูุน ุงูุฌุบุฑุงูู
            { q: "ูุง ูู ููุงุทู ุงููุนุงุฏู ุงูุฑุฆูุณูุฉ ูู ูุตุฑุ", a: "ุงูููุทูุฉ ุงูุฃููู: ุณููุงุก ูุฎููุฌ ุงูุณููุณ.\nุงูููุทูุฉ ุงูุซุงููุฉ: ูุณุท ูุตุฑ ุญูู ุงูููู.\nุงูููุทูุฉ ุงูุซุงูุซุฉ: ุงูุตุญุฑุงุก ุงูุบุฑุจูุฉ.", cat: "ุชูุฒูุน ุงููุนุงุฏู" },
            { q: "ุฃูู ุชูุฌุฏ ุฃูุจุฑ ููุงุทู ุงูุญุฏูุฏ ูู ูุตุฑุ", a: "ุฃุณูุงูุ ุงููุงุญุฉ ุงูุจุญุฑูุฉุ ุณุงุญู ุงูุจุญุฑ ุงูุฃุญูุฑ.", cat: "ุชูุฒูุน ุงููุนุงุฏู" },
            { q: "ูุง ูู ูุนุฏู ุงูููุณูุงุชุ", a: "ูุนุฏู ูุณุชุฎุฏู ูู ุงูุตูุงุนุงุช ุงููุฎุชููุฉ ูุซู ุงูุฃุณูุฏุฉ ูููุณุชุฎุฑุฌ ูู ููุงุทู ุณูุงุฌุงุ ุงูุญูุฑุงูููุ ุฃุจู ุทุฑุทูุฑ.", cat: "ุชูุฒูุน ุงููุนุงุฏู" },
            { q: "ูุง ูู ุงููุนุงุฏู ุงูููุฌูุฏุฉ ูู ููุทูุฉ ุณููุงุกุ", a: "ููุฌููุฒ\nูุญู\nุญุฏูุฏ", cat: "ุชูุฒูุน ุงููุนุงุฏู" },

            // ุงูุฏุฑุณ ุงูุซุงูู: ุงูุญุฏูุฏ ุงูุฎุงู
            { q: "ูุง ูู ุฎุงู ุงูุญุฏูุฏ ูู ุฃุณูุงูุ", a: "ููุณุชุฎุฑุฌ ูู ุฃุณูุงู ููุชููุฒ ุจุฌูุฏุฉ ููุฎูุถุฉ ูุตุนุจ ุงูุชูุฑูุฑ.", cat: "ุญุฏูุฏ" },
            { q: "ูุง ูู ุฏูุฑ ูุตูุน ุงูุญุฏูุฏ ูู ุญููุงูุ", a: "ุชู ุฅูุดุงุก ุงููุตูุน ูุชูููุฑ ุงุญุชูุงุฌ ุงูุจูุงุฏ ูู ุงูุญุฏูุฏ ููููู ุชููู ุจุนุฏ ูุดุงูู ูู ุฎุงู ุฃุณูุงู.", cat: "ุญุฏูุฏ" },
            { q: "ููุงุฐุง ุชุชุฌู ุงูุฏููุฉ ูุงุณุชุฎุฑุงุฌ ุงูุญุฏูุฏ ูู ุงููุงุญุฉ ุงูุจุญุฑูุฉุ", a: "ุจุณุจุจ ุงุญุชูุงุทู ุงูุฎุงู ุงูุถุฎู ูุณูููุฉ ุงูููู.", cat: "ุญุฏูุฏ" },
            { q: "ูุง ูู ุงููุฑู ุจูู ุฎุงู ุงูุญุฏูุฏ ูู ุฃุณูุงู ููู ุงููุงุญุฉ ุงูุจุญุฑูุฉุ", a: "ุฎุงู ุฃุณูุงู ูุญุชูู ุนูู ุดูุงุฆุจ ูุซูุฑุฉุ ุจูููุง ุฎุงู ุงููุงุญุฉ ุงูุจุญุฑูุฉ ุฐู ุฌูุฏุฉ ุฃูุถู.", cat: "ุญุฏูุฏ" },

            // ุงูุฏุฑุณ ุงูุซุงูุซ: ุงูููุณูุงุช ูุงูููุฌููุฒ
            { q: "ูุง ูู ุฃูู ุงุณุชุฎุฏุงูุงุช ุงูููุณูุงุชุ", a: "ูุณุชุฎุฏู ุจุดูู ุฑุฆูุณู ูู ุตูุงุนุฉ ุงูุฃุณูุฏุฉ.", cat: "ููุณูุงุช" },
            { q: "ุฃูู ุชูุฌุฏ ููุงุฌู ุงูููุฌููุฒ ูู ูุตุฑุ", a: "ูู ุฃู ุจุฌูุฉ ูู ุณููุงุก.", cat: "ููุฌููุฒ" },
            { q: "ูุง ุฃูููุฉ ููุทูุฉ ุฃุจู ุทุฑุทูุฑ ูู ุงูููุณูุงุชุ", a: "ุชุนุชุจุฑ ุฃูุจุฑ ูุตุฏุฑ ููููุณูุงุช ูู ูุตุฑุ ููุจูุบ ุงุญุชูุงุทููุง ุฃูุซุฑ ูู 700 ููููู ุทู.", cat: "ููุณูุงุช" },
            { q: "ููู ูุชู ุงุณุชุฎุฑุงุฌ ุงูููุณูุงุชุ", a: "ุนู ุทุฑูู ุงูุชุนุฏูู ุงูุณุทุญู.", cat: "ููุณูุงุช" },

            // ุงูุฏุฑุณ ุงูุฑุงุจุน: ุงูุฌุจุณ ูููุญ ุงูุทุนุงู
            { q: "ูุง ูู ุงูุฌุจุณุ", a: "ูุนุฏู ูุชููู ูู ูุจุฑูุชุงุช ุงููุงูุณููู ููุณุชุฎุฏู ูู ุงูุจูุงุก ูุงูุฒุฑุงุนุฉ.", cat: "ุฌุจุณ" },
            { q: "ุฃูู ุชูุฌุฏ ููุงุฌู ุงูุฌุจุณ ูู ูุตุฑุ", a: "ูู ููุงุทู ูุซู ุฎููุฌ ุงูุณููุณุ ุงูุจุญุฑ ุงูุฃุญูุฑุ ุงูุฅุณููุฏุฑูุฉ.", cat: "ุฌุจุณ" },
            { q: "ูุง ูู ููุญ ุงูุทุนุงูุ", a: "ูุงุฏุฉ ูุชู ุงุณุชุฎุฑุงุฌูุง ูู ุงูุจุญุงุฑ ูุชุณุชุฎุฏู ูู ุงูุทุนุงู ูุงูุตูุงุนุฉ.", cat: "ููุญ" },
            { q: "ููู ูุชู ุงุณุชุฎุฑุงุฌ ููุญ ุงูุทุนุงูุ", a: "ุนู ุทุฑูู ุงูุชุจุฎูุฑ ุงูุทุจูุนู ููููุงู ุงููุงูุญุฉ.", cat: "ููุญ" },

            // ุงูุฏุฑุณ ุงูุฎุงูุณ: ูุตุงุฏุฑ ุงูุทุงูุฉ
            { q: "ูุง ูู ูุตุงุฏุฑ ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉุ", a: "ุงูุทุงูุฉ ุงูุดูุณูุฉ\nุงูุฑูุงุญ\nุงููุฏ ูุงูุฌุฒุฑ\nุงูุทุงูุฉ ุงูุญูููุฉ", cat: "ุทุงูุฉ" },
            { q: "ูุง ูู ูุตุงุฏุฑ ุงูุทุงูุฉ ุบูุฑ ุงููุชุฌุฏุฏุฉุ", a: "ุงููุญู\nุงูุบุงุฒ ุงูุทุจูุนู\nุงูููุท", cat: "ุทุงูุฉ" },
            { q: "ุฃูู ุชูุฌุฏ ูุญุทุงุช ุชูููุฏ ุงูุทุงูุฉ ุงูุดูุณูุฉ ูู ูุตุฑุ", a: "ูู ุฃุณูุงูุ ุญูุซ ูุชู ุงุณุชุบูุงู ุงูุทุงูุฉ ุงูุดูุณูุฉ ุจุดูู ูุจูุฑ.", cat: "ุทุงูุฉ" },
            { q: "ูุง ูู ูุฒุงูุง ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉุ", a: "ูุง ุชููุฏุ ูุง ุชููุซ ุงูุจูุฆุฉุ ุชููุฑ ูุตุงุฏุฑ ุทุงูุฉ ูุณุชุฏุงูุฉ.", cat: "ุทุงูุฉ" },

            // ุงูุฏุฑุณ ุงูุณุงุฏุณ: ุงูุจุชุฑูู
            { q: "ูุง ูู ุชุนุฑูู ุงูุจุชุฑููุ", a: "ุฎููุท ูุนูุฏ ูู ุงูููุฏุฑููุฑุจููุงุช ููุณุชุฎุฑุฌ ูู ุจุงุทู ุงูุฃุฑุถ.", cat: "ุจุชุฑูู" },
            { q: "ุฃูู ุชูุฌุฏ ุญููู ุงูุจุชุฑูู ุงูุฑุฆูุณูุฉ ูู ูุตุฑุ", a: "ุฎููุฌ ุงูุณููุณ\nุงูุจุญุฑ ุงููุชูุณุท\nุงูุตุญุฑุงุก ุงูุบุฑุจูุฉ", cat: "ุจุชุฑูู" },
            { q: "ููู ูุชู ุชูุฑูุฑ ุงูุจุชุฑููุ", a: "ุนุจุฑ ุนูููุงุช ูู ูุนุงูู ุงูุชูุฑูุฑ ููุตู ุงูููููุงุช ุงููุฎุชููุฉ ูุซู ุงูุจูุฒููุ ุงูุณููุงุฑุ ูุงููุงุฒูุช.", cat: "ุจุชุฑูู" },
            { q: "ูุง ูู ุฃูููุฉ ุงูุจุชุฑูู ููุงูุชุตุงุฏ ุงููุตุฑูุ", a: "ูุนุชุจุฑ ูู ุฃูู ูุตุงุฏุฑ ุงูุฏุฎู ุงููููู ูู ุฎูุงู ุงูุตุงุฏุฑุงุช ูุงุณุชุฎุฏุงูุงุชู ุงููุญููุฉ ูู ุงูุตูุงุนุฉ.", cat: "ุจุชุฑูู" },

            // ุงูุฏุฑุณ ุงูุณุงุจุน: ุงูุบุงุฒ ุงูุทุจูุนู
            { q: "ูุง ูู ุงูุบุงุฒ ุงูุทุจูุนูุ", a: "ุบุงุฒ ููุฏุฑููุฑุจููู ููุณุชุฎุฑุฌ ูู ุจุงุทู ุงูุฃุฑุถ ููุณุชุฎุฏู ูู ุชูููุฏ ุงูููุฑุจุงุก ูุชุฏูุฆุฉ ุงูููุงุฒู.", cat: "ุบุงุฒ ุทุจูุนู" },
            { q: "ูุง ูู ุฃูู ุญููู ุงูุบุงุฒ ุงูุทุจูุนู ูู ูุตุฑุ", a: "ุญูู ุธูุฑ\nุญูู ุฃุจู ูุงุถู\nุญูู ุฃุจู ููุฑ", cat: "ุบุงุฒ ุทุจูุนู" },
            { q: "ููู ูุชู ุงุณุชุฎุฑุงุฌ ุงูุบุงุฒ ุงูุทุจูุนูุ", a: "ูุชู ูู ุฎูุงู ุญูุฑ ุขุจุงุฑ ูู ุงูููุงุทู ุงูุบุงุฒูุฉุ ุซู ูุชู ูููู ุนุจุฑ ุฎุทูุท ุฃูุงุจูุจ.", cat: "ุบุงุฒ ุทุจูุนู" },
            { q: "ูุง ูู ุงุณุชุฎุฏุงูุงุช ุงูุบุงุฒ ุงูุทุจูุนูุ", a: "ูุณุชุฎุฏู ูู ุชูููุฏ ุงูููุฑุจุงุกุ ุงููููุฏ ููููุงุฒูุ ูุงูุตูุงุนุงุช.", cat: "ุบุงุฒ ุทุจูุนู" },

            // ุงูุฏุฑุณ ุงูุซุงูู: ุงููุญู
            { q: "ูุง ูู ุงููุญูุ", a: "ูู ูุงุฏุฉ ุตูุจุฉ ุชุญุชูู ุนูู ูุฑุจููุ ุชูุณุชุฎุฏู ูู ุชูููุฏ ุงูููุฑุจุงุก ูุงูุญุฑุงุฑุฉ.", cat: "ูุญู" },
            { q: "ููู ูุชู ุงุณุชุฎุฏุงู ุงููุญู ูู ูุตุฑุ", a: "ููุณุชุฎุฏู ูู ูุญุทุงุช ุชูููุฏ ุงูููุฑุจุงุก ูุจุนุถ ุงูุตูุงุนุงุช.", cat: "ูุญู" },
            { q: "ุฃูู ุชูุฌุฏ ููุงุฌู ุงููุญู ูู ูุตุฑุ", a: "ูู ููุงุทู ูุซู ุงููุบุงุฑุฉ ูู ุณููุงุก.", cat: "ูุญู" },
            { q: "ูุง ูู ูุตุงุฏุฑ ุชูููุฏ ุงูููุฑุจุงุก ูู ูุตุฑุ", a: "ุงููุญู\nุงูุบุงุฒ ุงูุทุจูุนู\nุงูุทุงูุฉ ุงูููุฑููุงุฆูุฉ\nุงูุทุงูุฉ ุงูููููุฉ", cat: "ููุฑุจุงุก" },

            // ุงูุฏุฑุณ ุงูุชุงุณุน: ุงูููู
            { q: "ูุง ูู ุฃููุงุน ุงูููู ูู ูุตุฑุ", a: "ุงูููู ุงูุจุฑู\nุงูููู ุงูุณููู\nุงูููู ุงููุงุฆู\nุงูููู ุงูุฌูู", cat: "ููู" },
            { q: "ูุง ูู ุฃูููุฉ ุงูุณูู ุงูุญุฏูุฏูุฉุ", a: "ุชุนุชุจุฑ ูู ูุณุงุฆู ุงูููู ุงูุฑุฆูุณูุฉ ูููู ุงูุจุถุงุฆุน ุงูุซูููุฉ ุจุชูููุฉ ููุฎูุถุฉ.", cat: "ููู" },
            { q: "ูุง ูู ุฃูููุฉ ููุงุฉ ุงูุณููุณุ", a: "ุชุนุชุจุฑ ูู ุฃูู ููุฑุงุช ุงูููุงุญุฉ ุงูุจุญุฑูุฉ ูู ุงูุนุงููุ ุญูุซ ุชุฑุจุท ุงูุจุญุฑ ุงูุฃุจูุถ ุงููุชูุณุท ุจุงูุจุญุฑ ุงูุฃุญูุฑ.", cat: "ููู" },
            { q: "ูุง ูู ุงูููู ุงูุฌูู ูู ูุตุฑุ", a: "ูุดูู ุญุฑูุฉ ุงูุทุงุฆุฑุงุช ูู ูุฅูู ูุฎุชูู ุงููุทุงุฑุงุช ุงููุตุฑูุฉ ูุซู ูุทุงุฑ ุงููุงูุฑุฉ ุงูุฏููู.", cat: "ููู" },

            // ุงูุฏุฑุณ ุงูุนุงุดุฑ: ุงูุชุฌุงุฑุฉ ุงูุฎุงุฑุฌูุฉ
            { q: "ูุง ูู ุชุนุฑูู ุงูููุฒุงู ุงูุชุฌุงุฑูุ", a: "ูู ุงููุฑู ุจูู ุงูุตุงุฏุฑุงุช ูุงููุงุฑุฏุงุช ูู ุงูุณูุน ูุงูุฎุฏูุงุช.", cat: "ุชุฌุงุฑุฉ" },
            { q: "ูุง ูู ุงูุตุงุฏุฑุงุช ุงูุฑุฆูุณูุฉ ููุตุฑุ", a: "ุงูููุท\nุงูุบุงุฒ ุงูุทุจูุนู\nุงูููุชุฌุงุช ุงูุฒุฑุงุนูุฉ", cat: "ุชุฌุงุฑุฉ" },
            { q: "ูุง ูู ูุงุฑุฏุงุช ูุตุฑุ", a: "ุงูุขูุงุช\nุงูุณูุงุฑุงุช\nุงูููุงุฏ ุงูุฎุงู", cat: "ุชุฌุงุฑุฉ" },
            { q: "ูุง ูู ุงููุงุฆุถ ุงูุชุฌุงุฑูุ", a: "ุนูุฏูุง ุชุชุฌุงูุฒ ุงูุตุงุฏุฑุงุช ุงููุงุฑุฏุงุช.", cat: "ุชุฌุงุฑุฉ" }
        ];

        let currentCard = 0;
        let correctCount = 0;
        let wrongCount = 0;
        let cardStatus = new Array(allFlashcards.length).fill(0);

        // Quiz Variables
        let quizScore = 0;
        let quizWrong = 0;
        let quizIndex = 0;
        let quizUserAnswers = [];
        let isQuizActive = false;
        let reviewList = [];
        let reviewIndex = 0;

        function getWelcomeHTML() {
            return `
            <div class="welcome reveal">
                <h1 class="holo-text"><i class="fas fa-globe-africa"></i> ุงูุฏุฑุงุณุงุช ุงูุงุฌุชูุงุนูุฉ</h1>
                <img src="../../Manhagko Logo2.png" alt="Manhagko Logo" style="width: 160px; height: 160px; border-radius: 16px; object-fit: contain; border: 3px solid var(--primary); box-shadow: 0 0 35px rgba(78,205,196,0.4), 0 8px 25px rgba(0,0,0,0.3); margin: 15px auto; display: block; background: rgba(255,255,255,0.05); padding: 8px;">
                <p style="color: var(--accent);">ุฎุฑุงุฆุท ุชูุงุนููุฉ 3D + ุจุทุงูุงุช ุญูุธ ุฐููุฉ!</p>
                <div class="features">
                    <div class="card-3d feature" onclick="showLesson(1)" style="cursor: pointer;"><i class="fas fa-map"></i><br>ุฎุฑุงุฆุท 3D</div>
                    <div class="card-3d feature" onclick="showLesson(2)" style="cursor: pointer;"><i class="fas fa-clone"></i><br>ุจุทุงูุงุช ุญูุธ</div>
                    <div class="card-3d feature" onclick="showLesson(4)" style="cursor: pointer;"><i class="fas fa-clipboard-check"></i><br>ุงุฎุชุจุฑ ููุณู</div>
                    <div class="card-3d feature" onclick="showLesson(3)" style="cursor: pointer;"><i class="fas fa-file-pdf"></i><br>ูุตุงุฏุฑ PDF</div>
                </div>
                <button class="btn-glow" onclick="toggleSidebar()">
                    <i class="fas fa-rocket"></i> ุงุจุฏุฃ ุงููุฐุงูุฑุฉ
                </button>
            </div>`;
        }

        function getMapsHTML() {
            return `
            <div class="lesson-header reveal">
                <h1 class="holo-text"><i class="fas fa-globe"></i> ุฎุฑุงุฆุท ูุตุฑ ุงูุชูุงุนููุฉ</h1>
                <h2> ุงู ูู ุงูุฎุฑุงูุท ุฏููููุุ </h2>
            </div>
            
            <div class="reveal" style="text-align: center; margin-bottom: 20px;">
                <div class="flashcard-controls" style="justify-content: center;">
                    <button class="flashcard-btn" id="mode-learn" onclick="setMapMode('learn')" style="background: var(--primary); color: #000;">
                        <i class="fas fa-book-open"></i> ูุถุน ุงูุชุนูู
                    </button>
                    <button class="flashcard-btn" id="mode-train" onclick="setMapMode('train')">
                        <i class="fas fa-gamepad"></i> ูุถุน ุงูุชุฏุฑูุจ
                    </button>
                </div>
                <div id="map-score-panel" style="display: none; margin-top: 15px; font-weight: bold; color: var(--accent);">
                    ูุชูุฌุฉ ุงูุชุฏุฑูุจ: <span id="map-score">0</span> / <span id="map-total">0</span>
                </div>
            </div>

            <div class="map-3d-container reveal" style="height: 600px; border-radius: 15px; overflow: hidden; border: 2px solid var(--primary); position: relative;">
                <div id="map" style="width: 100%; height: 100%; direction: ltr;"></div>
            </div>
            
            <div class="card-3d reveal" style="margin-top: 20px;">
                <div class="card-title"><i class="fas fa-info-circle"></i> ุฐุงูุฑ ุงูุฎุฑุงูุท ูููุณ </div>
                <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center;">
                    
                    
                    <span style="color: #00ff88;"><i class="fas fa-bolt"></i> ุฑุจูุง ูุนุงู ูุงุตุญุจู</span>
                    
                </div>
            </div>`;
        }

        // Image Map Data
        const imageMaps = [
            { id: 'map1', title: 'ุฎุฑูุทุฉ ุงููุนุงุฏู', url: 'ุฎุฑุงูุท/WhatsApp Image 2025-05-12 at 9.17.47 PM.jpeg', points: [] },
            { id: 'map2', title: 'ุฎุฑูุทุฉ ุงูุจุชุฑูู', url: 'ุฎุฑุงูุท/WhatsApp Image 2025-05-12 at 9.17.48 PM.jpeg', points: [] },
            { id: 'map3', title: 'ุฎุฑูุทุฉ ุงููุญู', url: 'ุฎุฑุงูุท/WhatsApp Image 2025-05-12 at 9.18.11 PM.jpeg', points: [] },
            { id: 'map4', title: 'ุฎุฑูุทุฉ ุงูููุฌููุฒ', url: 'ุฎุฑุงูุท/WhatsApp Image 2025-05-12 at 9.18.15 PM.jpeg', points: [] },
            { id: 'map5', title: 'ุฎุฑูุทุฉ ุงูููุณูุงุช', url: 'ุฎุฑุงูุท/WhatsApp Image 2025-05-12 at 9.18.15 PM (1).jpeg', points: [] },
            { id: 'map6', title: 'ุฎุฑูุทุฉ ุงูุญุฏูุฏ', url: 'ุฎุฑุงูุท/WhatsApp Image 2025-05-12 at 9.18.16 PM.jpeg', points: [] },
            { id: 'map7', title: 'ุฎุฑูุทุฉ ุงูุฐูุจ', url: 'ุฎุฑุงูุท/WhatsApp Image 2025-05-12 at 9.18.45 PM.jpeg', points: [] },
            { id: 'map8', title: 'ุฎุฑูุทุฉ ุงูุฌุจุณ', url: 'ุฎุฑุงูุท/WhatsApp Image 2025-05-12 at 9.18.46 PM.jpeg', points: [] }
        ];

        let currentMapIndex = 0;
        let map;
        let mapMode = 'learn';
        let mapScore = 0;

        window.initMap = function () {
            if (map) { map.remove(); }

            // Ensure we have a valid container
            const mapDiv = document.getElementById('map');
            if (!mapDiv) {
                console.error("Map element not found");
                return;
            }

            const parent = mapDiv.parentElement;

            // Inject Sidebar if not exists
            if (!document.getElementById('map-sidebar')) {
                const sidebar = document.createElement('div');
                sidebar.id = 'map-sidebar';
                sidebar.className = 'card-3d';
                sidebar.style.cssText = `
                    position: absolute; right: 10px; top: 10px; bottom: 10px; width: 220px; 
                    z-index: 1000; overflow-y: auto; background: rgba(0,0,0,0.8); 
                    padding: 10px; border-right: 2px solid var(--primary);
                    display: flex; flex-direction: column; gap: 10px;
                `;

                imageMaps.forEach((m, idx) => {
                    const btn = document.createElement('button');
                    btn.className = 'btn-glow';
                    btn.style.cssText = 'width: 100%; text-align: right; font-size: 0.9rem; padding: 8px;';
                    btn.innerHTML = `<i class="fas fa-map"></i> ${m.title}`;
                    btn.onclick = () => loadMap(idx);
                    sidebar.appendChild(btn);
                });

                // Dev Mode Button
                const devBtn = document.createElement('button');
                devBtn.textContent = '๐๏ธูููุฑ ูุงุจุงุดุง';
                devBtn.className = 'flashcard-btn';
                devBtn.style.cssText = 'margin-top: auto; font-size: 0.8rem; opacity: 0.7;';
                devBtn.onclick = toggleDevMode;
                sidebar.appendChild(devBtn);

                parent.appendChild(sidebar);

                // Ensure parent has relative positioning for absolute sidebar
                if (getComputedStyle(parent).position === 'static') {
                    parent.style.position = 'relative';
                }
            }

            loadMap(0);
        };

        let devMode = false;
        window.toggleDevMode = function () {
            devMode = !devMode;
            Swal.fire({
                toast: true, position: 'top-end', icon: 'info',
                title: devMode ? 'ูู ุฑุงุฌู ุงุญูุธ ุงูุฎุฑุงูุท' : ' ุฐุงูุฑ ุฐุงูุฑ ',
                timer: 3000, showConfirmButton: false
            });
        };

        window.loadMap = function (index) {
            currentMapIndex = index;
            if (map) map.remove();

            const mapData = imageMaps[index];
            const encodedUrl = encodeURI(mapData.url); // Handle spaces/Arabic in URL

            // Show loading indicator logic could be added here if needed

            // Init Leaflet with CRS.Simple
            map = L.map('map', {
                crs: L.CRS.Simple,
                minZoom: -2,
                maxZoom: 2,
                zoomControl: true,
                attributionControl: false
            });

            // Load Image
            const img = new Image();
            img.onload = function () {
                const w = this.width;
                const h = this.height;
                const bounds = [[0, 0], [h, w]];

                L.imageOverlay(encodedUrl, bounds).addTo(map);
                map.fitBounds(bounds);

                // Markers would go here
                renderMapMarkers(mapData, h);
            };

            img.onerror = function () {
                console.error("Failed to load map image:", encodedUrl);
                Swal.fire({
                    icon: 'error',
                    title: 'ุฎุทุฃ ูู ุชุญููู ุงูุฎุฑูุทุฉ',
                    text: 'ุชุฃูุฏ ูู ูุฌูุฏ ููู ุงูุตูุฑุฉ: ' + mapData.url
                });
            };

            img.src = encodedUrl;

            // Dev Mode Click
            map.on('click', function (e) {
                if (devMode) {
                    const coords = `[${Math.round(e.latlng.lat)}, ${Math.round(e.latlng.lng)}]`;
                    navigator.clipboard.writeText(coords);
                    Swal.fire({
                        toast: true, position: 'top', icon: 'success',
                        title: `ุชู ูุณุฎ: ${coords}`,
                        text: 'ุฌุงูุฒ ููุตู',
                        timer: 1000
                    });
                }
            });
        };

        window.renderMapMarkers = function (mapData, mapHeight) {
            // Render points if any
        };

        window.setMapMode = function (mode) {
            mapMode = mode;
            // Update UI buttons... (keeping existing logic roughly)
            // This part needs to be adapted to the new map system.
            // For now, just re-initialize the current map to apply mode changes.
            loadMap(currentMapIndex);
        };

        // The following functions related to the old map system are no longer needed
        // and should be removed or adapted if training mode is to be implemented for image maps.
        // For now, they are kept as placeholders or removed if they directly depend on mapLocations.

        // Removed: mapLocations array (as per instruction, replaced by imageMaps)
        // Removed: renderMap function (as per instruction, replaced by loadMap and renderMapMarkers)
        // Removed: checkMapAnswer function (as per instruction, it was tied to the old mapLocations)

        // Legacy map functions removed. 
        // Training mode for Image Maps will be re-implemented.
        // Legacy map functions removed.

        function getFlashcardsHTML() {
            return `
            <div class="lesson-header reveal">
                <h1 class="holo-text"><i class="fas fa-brain"></i> ุจุทุงูุงุช ุงูุญูุธ ุงูุฐููุฉ</h1>
                <h2>ุงุถุบุท ุนูู ุงูุจุทุงูุฉ ูุฑุคูุฉ ุงูุฅุฌุงุจุฉ</h2>
            </div>
            
            <div class="card-3d reveal" style="text-align: center;">
                <div style="display: flex; justify-content: space-around;">
                    <div><span style="font-size: 2rem; color: var(--primary);">${allFlashcards.length}</span><br>ุฅุฌูุงูู</div>
                    <div><span style="font-size: 2rem; color: var(--accent);" id="correctCount">0</span><br>ุตุญูุญ โ</div>
                    <div><span style="font-size: 2rem; color: var(--secondary);" id="wrongCount">0</span><br>ูููุฑุงุฌุนุฉ</div>
                </div>
                <div class="progress-bar" style="margin-top: 1rem;">
                    <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                </div>
            </div>
            
            <div class="flashcard-container reveal">
                <p style="color: var(--text-muted);" id="cardProgress">ุงูุจุทุงูุฉ 1 ูู ${allFlashcards.length}</p>
                
                <div class="flashcard" id="flashcard" onclick="flipCard()">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <i class="fas fa-question-circle" style="font-size: 2.5rem; color: var(--primary); margin-bottom: 1rem;"></i>
                            <h3 id="question">${allFlashcards[0].q}</h3>
                            <p style="color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">${allFlashcards[0].cat}</p>
                        </div>
                        <div class="flashcard-back">
                            <i class="fas fa-lightbulb" style="font-size: 2.5rem; color: var(--secondary); margin-bottom: 1rem;"></i>
                            <p id="answer">${allFlashcards[0].a.replace(/\\n/g, '<br>')}</p>
                        </div>
                    </div>
                </div>
                
                <div class="flashcard-controls">
                    <button class="flashcard-btn wrong" onclick="markWrong()"><i class="fas fa-redo"></i> ุฑุงุฌุน ูุงุญูุงู</button>
                    <button class="flashcard-btn correct" onclick="markCorrect()"><i class="fas fa-check"></i> ุญูุธุชูุง!</button>
                </div>
                <div class="flashcard-controls">
                    <button class="flashcard-btn" onclick="prevCard()"><i class="fas fa-arrow-right"></i></button>
                    <button class="flashcard-btn" onclick="shuffleCards()"><i class="fas fa-random"></i> ุฎูุท</button>
                    <button class="flashcard-btn" onclick="nextCard()"><i class="fas fa-arrow-left"></i></button>
                </div>
            </div>`;
        }

        function getQuizHTML() {
            return `
            <div class="lesson-header reveal">
                <h1 class="holo-text"><i class="fas fa-clipboard-check"></i> ุงุฎุชุจุฑ ููุณู</h1>
                <h2>ุฌุงูุจ ู ููู ูุณุชูุงู!</h2>
            </div>
            
            <div id="quiz-container" class="flashcard-container reveal">
                <div class="card-3d" style="width: 100%; max-width: 800px; text-align: center;">
                    <div id="quiz-stats" style="display: flex; justify-content: space-between; margin-bottom: 20px; font-weight: bold;">
                        <span style="color: var(--accent);">ุตุญูุญ: <span id="q-correct">0</span></span>
                        <span style="color: var(--text);">ุณุคุงู: <span id="q-current">1</span> / ${allFlashcards.length}</span>
                        <span style="color: var(--secondary);">ุฎุทุฃ: <span id="q-wrong">0</span></span>
                    </div>
                    
                    <div id="quiz-content">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 id="quiz-question" style="margin: 0; color: var(--primary); font-size: 1.3rem; flex-grow: 1;" dir="auto"></h3>
                            <button onclick="showQuizResult()" class="flashcard-btn wrong" style="font-size: 0.9rem; padding: 5px 10px; margin-right: 10px; white-space: nowrap;">
                                <i class="fas fa-flag-checkered"></i> ุฅููุงุก
                            </button>
                        </div>
                        <div id="quiz-options" style="display: flex; flex-direction: column; gap: 10px;"></div>
                    </div>
                    
                    <div id="quiz-result" style="display: none;">
                        <i class="fas fa-trophy" style="font-size: 4rem; color: var(--warning); margin-bottom: 20px;"></i>
                        <h2>ุงููุชูุฌุฉ ุงูููุงุฆูุฉ</h2>
                        <div class="circular-progress" id="score-circle">
                            <span class="progress-value">0%</span>
                        </div>
                        <p id="final-score-text" style="font-size: 1.2rem; margin: 20px 0;"></p>
                        <button class="btn-glow" onclick="startQuiz()">ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ</button>
                    </div>

                    <div id="quiz-review" style="display: none;">
                        <h2 class="holo-text" style="margin-bottom: 20px;"><i class="fas fa-eye"></i> ูุฑุงุฌุนุฉ ุงูุฃุณุฆูุฉ</h2>
                        <p id="review-count" style="color: var(--text-muted); margin-bottom: 15px;">ุณุคุงู 1 ูู X</p>
                        <h3 id="review-q" style="margin-bottom: 20px; color: var(--primary); font-size: 1.3rem;" dir="auto"></h3>
                        <div id="review-options" style="display: flex; flex-direction: column; gap: 10px;"></div>
                        <div class="flashcard-controls" style="margin-top: 20px;">
                            <button class="flashcard-btn" onclick="prevReview()"><i class="fas fa-arrow-right"></i> ุงูุณุงุจู</button>
                            <button class="flashcard-btn" onclick="exitReview()"><i class="fas fa-times"></i> ุฅููุงุก ุงููุฑุงุฌุนุฉ</button>
                            <button class="flashcard-btn" onclick="nextReview()">ุงูุชุงูู <i class="fas fa-arrow-left"></i></button>
                        </div>
                    </div>
                </div>
            </div>`;
        }

        function getPDFsHTML() {
            return `
            <div class="lesson-header reveal">
                <h1 class="holo-text"><i class="fas fa-file-pdf"></i> ูุตุงุฏุฑ PDF</h1>
                <h2>ุงููุชุจ ูุงูููุฎุตุงุช</h2>
            </div>
            
            <div class="card-3d reveal">
                <div class="card-title"><i class="fas fa-book"></i> ุงููุชุจ ุงูุฏุฑุงุณูุฉ</div>
                <a href="ูุตุงุฏุฑ PDF/ุงูุฏุฑุงุณุงุช ุงูุงุฌุชูุงุนูุฉ.pdf" target="_blank" class="pdf-link">
                    <i class="fas fa-file-pdf"></i> ูุชุงุจ ุงูุฏุฑุงุณุงุช ุงูุงุฌุชูุงุนูุฉ
                </a>
                <a href="ูุตุงุฏุฑ PDF/ูููุฌ ุงูุตู ุงูุซุงูุซ ุงูุซุงููู ( ุงููุนุฏู.pdf" target="_blank" class="pdf-link">
                    <i class="fas fa-file-pdf"></i> ุงููููุฌ ุงููุนุฏู โญ
                </a>
            </div>
            
            <div class="card-3d reveal">
                <div class="card-title"><i class="fas fa-map"></i> ุงูุฎุฑุงุฆุท ูุงูููุฎุตุงุช</div>
                <a href="ูุตุงุฏุฑ PDF/ููุฎุต ุงูุฏุฑุงุณุงุช (ุงูู ูุตุฏุฑ ููุฌุฒ ูููุงุฏุฉ) (17 ุฏุฑุณ X  ู 17 ุตูุญุฉ).pdf" target="_blank" class="pdf-link">
                    <i class="fas fa-star"></i> ููุฎุต ุงูุฏุฑุงุณุงุช (17 ุฏุฑุณ ร 17 ุตูุญุฉ) โญ
                </a>
                <a href="ูุตุงุฏุฑ PDF/ูุฑุงุฌุนุฉ ุงูุฎุฑุงุฆุท.pdf" target="_blank" class="pdf-link">
                    <i class="fas fa-map-marked-alt"></i> ูุฑุงุฌุนุฉ ุงูุฎุฑุงุฆุท โญ
                </a>
                <a href="ูุตุงุฏุฑ PDF/ููุฎุต ูููุฌ ุงูุฏุฑุงุณุงุช ุงูุตู ุงูุซุงูุซ.pdf" target="_blank" class="pdf-link">
                    <i class="fas fa-file-alt"></i> ููุฎุต ุงููููุฌ
                </a>
                <a href="ูุตุงุฏุฑ PDF/ูุฑุงุฌุนุฉ ููุงุฆูุฉ.pdf" target="_blank" class="pdf-link">
                    <i class="fas fa-check-circle"></i> ุงููุฑุงุฌุนุฉ ุงูููุงุฆูุฉ
                </a>
            </div>
            
            <div class="card-3d reveal">
                <div class="card-title"><i class="fas fa-question-circle"></i> ุจููู ุงูุฃุณุฆูุฉ</div>
                <a href="ูุตุงุฏุฑ PDF/ุจูู ุงูุงุณุฆูู (1).pdf" target="_blank" class="pdf-link">
                    <i class="fas fa-tasks"></i> ุจูู ุงูุฃุณุฆูุฉ
                </a>
                <a href="ูุตุงุฏุฑ PDF/ุจูู ุงุณุฆูุฉ ุงููุญุฏุฉ ุงูุฎุงูุณุฉ.pdf" target="_blank" class="pdf-link">
                    <i class="fas fa-tasks"></i> ุฃุณุฆูุฉ ุงููุญุฏุฉ ุงูุฎุงูุณุฉ
                </a>
                <a href="ูุตุงุฏุฑ PDF/ุชูููู ูุงุฏุฉ ุงูุฏุฑุงุณุงุช ุงูุงุฌุชูุงุนูุฉ ููุตู ุงูุซุงูุซ ุงูุซุงููู.pdf" target="_blank" class="pdf-link">
                    <i class="fas fa-clipboard-check"></i> ุชูููู ุงููุงุฏุฉ
                </a>
            </div>

            <div class="card-3d reveal">
                <div class="card-title"><i class="fab fa-youtube"></i> ูููุงุช ููุชููุจ</div>
                <a href="https://www.youtube.com/@mohegamal9392" target="_blank" class="pdf-link" style="border-color: var(--warning); color: var(--warning);">
                    <i class="fab fa-youtube"></i> ุฃ / ููู ุฌูุงู
                </a>
                <a href="https://youtu.be/yIHE10U7YyU?si=pMLejLWNOTsU4QS-" target="_blank" class="pdf-link" style="border-color: var(--warning); color: var(--warning);">
                    <i class="fab fa-youtube"></i> ูุณ ุฑูุฒูุชุง
                </a>
            </div>`;
        }

        // Card functions
        window.flipCard = function () {
            document.getElementById('flashcard').classList.toggle('flipped');
        };

        window.updateCard = function () {
            const card = allFlashcards[currentCard];
            document.getElementById('question').textContent = card.q;
            document.getElementById('answer').innerHTML = card.a.replace(/\\n/g, '<br>');
            document.getElementById('cardProgress').textContent = `ุงูุจุทุงูุฉ ${currentCard + 1} ูู ${allFlashcards.length} (${card.cat})`;
            document.getElementById('flashcard').classList.remove('flipped');
            updateProgress();
        };

        window.updateProgress = function () {
            const done = cardStatus.filter(s => s !== 0).length;
            const pct = (done / allFlashcards.length) * 100;
            document.getElementById('progressFill').style.width = pct + '%';
        };

        window.nextCard = function () {
            currentCard = (currentCard + 1) % allFlashcards.length;
            updateCard();
        };

        window.prevCard = function () {
            currentCard = (currentCard - 1 + allFlashcards.length) % allFlashcards.length;
            updateCard();
        };

        window.markCorrect = function () {
            if (cardStatus[currentCard] !== 1) {
                if (cardStatus[currentCard] === -1) wrongCount--;
                cardStatus[currentCard] = 1;
                correctCount++;
                document.getElementById('correctCount').textContent = correctCount;
                document.getElementById('wrongCount').textContent = wrongCount;
            }
            nextCard();
        };

        window.markWrong = function () {
            if (cardStatus[currentCard] !== -1) {
                if (cardStatus[currentCard] === 1) correctCount--;
                cardStatus[currentCard] = -1;
                wrongCount++;
                document.getElementById('correctCount').textContent = correctCount;
                document.getElementById('wrongCount').textContent = wrongCount;
            }
            nextCard();
        };

        window.shuffleCards = function () {
            for (let i = allFlashcards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allFlashcards[i], allFlashcards[j]] = [allFlashcards[j], allFlashcards[i]];
                [cardStatus[i], cardStatus[j]] = [cardStatus[j], cardStatus[i]];
            }
            currentCard = 0;
            updateCard();
        };

        function showLesson(num) {
            const main = document.getElementById('main-content');
            let content = '';
            switch (num) {
                case 1:
                    content = getMapsHTML();
                    setTimeout(initMap, 200);
                    break;
                case 2: content = getFlashcardsHTML(); break;
                case 3: content = getPDFsHTML(); break;
                case 4:
                    content = getQuizHTML();
                    setTimeout(startQuiz, 100);
                    break;
                default: content = getWelcomeHTML();
            }
            main.innerHTML = content;
            toggleSidebar();
            initReveal();
        }

        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('active');
            document.querySelector('.overlay').classList.toggle('active');
        }

        function initReveal() {
            const reveals = document.querySelectorAll('.reveal');
            reveals.forEach((el, i) => {
                setTimeout(() => el.classList.add('active'), i * 100);
            });
        }

        // Create particles

        // Quiz Logic
        window.startQuiz = function () {
            quizScore = 0;
            quizWrong = 0;
            quizIndex = 0;
            quizUserAnswers = [];
            isQuizActive = true;

            document.getElementById('quiz-content').style.display = 'block';
            document.getElementById('quiz-result').style.display = 'none';
            document.getElementById('quiz-review').style.display = 'none';
            document.getElementById('quiz-stats').style.display = 'flex';
            updateQuizStats();
            loadQuizQuestion();
        };

        window.updateQuizStats = function () {
            document.getElementById('q-correct').textContent = quizScore;
            document.getElementById('q-wrong').textContent = quizWrong;
            document.getElementById('q-current').textContent = quizIndex + 1;
        };

        window.loadQuizQuestion = function () {
            if (quizIndex >= allFlashcards.length) {
                showQuizResult();
                return;
            }

            const card = allFlashcards[quizIndex];
            const qEl = document.getElementById('quiz-question');
            const optsEl = document.getElementById('quiz-options');

            qEl.textContent = card.q;
            optsEl.innerHTML = '';

            // Since we don't have structured options in social studies, we use the manual self-assessment method
            optsEl.innerHTML = `<button class="btn-glow" onclick="showAnswer()">ุฅุธูุงุฑ ุงูุฅุฌุงุจุฉ (ููู ููุณู ูุฏููุงู)</button>
                                 <div style="margin-top:10px; display:flex; gap:10px; justify-content:center;">
                                    <button class="flashcard-btn correct" onclick="handleManualResult(true)">ุตุญ</button>
                                    <button class="flashcard-btn wrong" onclick="handleManualResult(false)">ุฎุทุฃ</button>
                                 </div>`;

            updateQuizStats();
        };

        window.showAnswer = function () {
            const card = allFlashcards[quizIndex];
            Swal.fire({
                title: 'ุงูุฅุฌุงุจุฉ ุงููููุฐุฌูุฉ',
                html: `<div style="text-align: right; font-size: 1.1rem; line-height: 1.6;">${card.a.replace(/\n/g, '<br>')}</div>`,
                icon: 'info',
                confirmButtonText: 'ุญุณูุงู',
                background: '#0a0a1a',
                color: '#fff',
                confirmButtonColor: 'var(--primary)'
            });
        };

        window.handleManualResult = function (isCorrect) {
            if (isCorrect) {
                quizScore++;
                Swal.fire({
                    position: 'top-end', icon: 'success', title: 'ุฅุฌุงุจุฉ ุตุญูุญุฉ!',
                    showConfirmButton: false, timer: 1000, background: '#0a0a1a', color: '#fff'
                });
            } else {
                quizWrong++;
                Swal.fire({
                    position: 'top-end', icon: 'error', title: 'ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ!',
                    showConfirmButton: false, timer: 1000, background: '#0a0a1a', color: '#fff'
                });
            }

            quizUserAnswers.push({
                cardIndex: quizIndex,
                userOptIdx: isCorrect ? -2 : -3, // -2 manual correct, -3 manual wrong
                isCorrect: isCorrect
            });

            quizIndex++;
            loadQuizQuestion();
        };

        window.showQuizResult = function () {
            document.getElementById('quiz-content').style.display = 'none';
            document.getElementById('quiz-result').style.display = 'block';
            document.getElementById('quiz-stats').style.display = 'none';

            const total = quizIndex; // Use quizIndex instead of total length as user might finish early
            const percentage = total > 0 ? Math.round((quizScore / total) * 100) : 0;

            document.querySelector('.progress-value').textContent = `${percentage}%`;
            document.getElementById('final-score-text').innerHTML = `
                ุฌุงูุจุช <b>${quizScore}</b> ุตุญ ู <b>${quizWrong}</b> ุบูุท <br> ูู ุฃุตู ${total} ุณุคุงู ุชู ุญูู.
                <br><br>
                ${percentage >= 50 ? '<span style="color:var(--accent)">ูุณุชูู ููุชุงุฒ! ุงุณุชูุฑ ูุง ุจุทู ๐</span>' : '<span style="color:var(--secondary)">ูุญุชุงุฌ ูุฑุงุฌุนุฉ ุดููุฉุ ุฌุฑุจ ุชุงูู! ๐ช</span>'}
                <br><br>
                <div style="display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
                    <button class="flashcard-btn correct" onclick="startReview('correct')"><i class="fas fa-check"></i> ูุฑุงุฌุนุฉ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ</button>
                    <button class="flashcard-btn wrong" onclick="startReview('wrong')"><i class="fas fa-times"></i> ูุฑุงุฌุนุฉ ุงูุฅุฌุงุจุงุช ุงูุฎุงุทุฆุฉ</button>
                    <button class="flashcard-btn" onclick="startReview('all')"><i class="fas fa-list"></i> ูุฑุงุฌุนุฉ ุงููู</button>
                </div>
            `;

            document.getElementById('score-circle').style.background = `conic-gradient(var(--primary) ${percentage * 3.6}deg, rgba(255,255,255,0.1) 0deg)`;
        };

        // Review System
        window.startReview = function (filter) {
            reviewList = quizUserAnswers.filter(ans => {
                if (filter === 'correct') return ans.isCorrect;
                if (filter === 'wrong') return !ans.isCorrect;
                return true;
            });

            if (reviewList.length === 0) {
                Swal.fire({ icon: 'info', title: 'ูุง ููุฌุฏ ุฃุณุฆูุฉ', text: 'ูุง ุชูุฌุฏ ุฃุณุฆูุฉ ูู ูุฐุง ุงููุณู.', background: '#0a0a1a', color: '#fff' });
                return;
            }

            reviewIndex = 0;
            document.getElementById('quiz-result').style.display = 'none';
            document.getElementById('quiz-review').style.display = 'block';
            loadReviewCard();
        };

        window.loadReviewCard = function () {
            const answerData = reviewList[reviewIndex];
            const card = allFlashcards[answerData.cardIndex];

            document.getElementById('review-count').textContent = `ุณุคุงู ${reviewIndex + 1} ูู ${reviewList.length}`;
            document.getElementById('review-q').textContent = card.q;

            const optsEl = document.getElementById('review-options');
            optsEl.innerHTML = `<div class="card" style="text-align:center;">
                <p style="color:var(--text-muted)">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:</p>
                <p style="color:var(--accent); font-size:1.2rem;">${card.a.replace(/\\n/g, '<br>')}</p>
                <hr style="border-color:rgba(255,255,255,0.1); margin:10px 0;">
                <p style="color:${answerData.isCorrect ? 'var(--accent)' : 'var(--secondary)'}">
                    ${answerData.isCorrect ? 'ุฅุฌุงุจุชู ุตุญูุญุฉ' : 'ุฅุฌุงุจุชู ุฎุงุทุฆุฉ'}
                </p>
             </div>`;
        };

        window.nextReview = function () {
            if (reviewIndex < reviewList.length - 1) {
                reviewIndex++;
                loadReviewCard();
            }
        };

        window.prevReview = function () {
            if (reviewIndex > 0) {
                reviewIndex--;
                loadReviewCard();
            }
        };

        window.exitReview = function () {
            document.getElementById('quiz-review').style.display = 'none';
            document.getElementById('quiz-result').style.display = 'block';
        };

        function createParticles() {
            const container = document.querySelector('.particles-3d');
            if (!container) return;
            for (let i = 0; i < 20; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.animationDuration = (15 + Math.random() * 20) + 's';
                p.style.animationDelay = Math.random() * 20 + 's';
                container.appendChild(p);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('main-content').innerHTML = getWelcomeHTML();
            createParticles();
            initReveal();
        });
    </script>
</body>

</html>